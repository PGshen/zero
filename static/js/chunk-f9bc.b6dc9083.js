(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f9bc","chunk-5d5b"],{"0nud":function(t,e,o){"use strict";o.d(e,"e",function(){return s}),o.d(e,"b",function(){return n}),o.d(e,"f",function(){return a}),o.d(e,"c",function(){return l}),o.d(e,"a",function(){return r}),o.d(e,"d",function(){return u});var i=o("t3Un");function s(t){return Object(i.a)({url:"/official/website/class/mate/list",method:"post",data:t})}function n(t){return Object(i.a)({url:"/official/website/class/mate",method:"post",data:t})}function a(t){return Object(i.a)({url:"/official/website/class/mate",method:"put",data:t})}function l(t){return Object(i.a)({url:"/official/website/class/mate/"+t,method:"delete"})}function r(t){return Object(i.a)({url:"/official/website/class/mate/checkout/"+t,method:"post"})}function u(t){return Object(i.a)({url:"/official/website/class/mate/clazzlist",method:"post",data:t})}},B2T4:function(t,e,o){"use strict";o.r(e);var i=o("P2sY"),s=o.n(i),n=o("glbJ"),a=o("Grqa"),l=o("uARZ"),r=o("X4fA"),u=o("0nud"),c=o("nxFG"),d={id:void 0,createdTime:void 0,firstHeading:"",secondaryHeading:"",tertiaryHeading:"",solutionSynopsis:"",solutionText:"",solutionPic:"",solutionClass:"",isEnable:"draft"},m={name:"SolutionDetail",components:{Tinymce:n.a,MDinput:a.a,Sticky:l.a},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this,e=function(e,o,i){""===o?(t.$message({message:e.field+"为必传项",type:"error"}),i(new Error(e.field+"为必传项"))):i()};return{solutionForm:s()({},d),loading:!1,solutionClassOptions:[],myHeaders:{"x-auth-token":Object(r.a)()},editFlag:this.isEdit,fileList:[],picVisible:!1,rules:{firstHeading:[{validator:e}],solutionClass:[{validator:e}],solutionText:[{validator:e}]}}},computed:{synopsisLength:function(){return this.solutionForm.solutionSynopsis.length}},created:function(){var t=this;if(Object(u.d)({clazzName:"SOLUTION"}).then(function(e){2e4===e.data.code&&(t.solutionClassOptions=e.data.data)}),this.isEdit){var e=this.$route.params&&this.$route.params.id;this.fetchData(e)}else this.solutionForm=s()({},d)},methods:{uploadUrl:function(){return"http://111.230.146.130:8088/official/website/solution/upload"},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t),this.solutionForm.solutionPic=t.response.data,this.picVisible=!0},handleSuccess:function(t,e,o){2e4===t.code&&(this.solutionForm.solutionPic=t.data)},fetchData:function(t){var e=this;Object(c.e)(t).then(function(t){e.solutionForm=t.data.data,e.fileList.splice(0,e.fileList.length),e.fileList.push({name:t.data.data.id,url:t.data.data.solutionPic})}).catch(function(t){console.log(t)})},submitForm:function(){var t=this;console.log(this.solutionForm),this.$refs.solutionForm.validate(function(e){if(!e)return console.log("error submit!!"),t.$message.error("信息填写有错误"),!1;t.loading=!0,t.solutionForm.isEnable="1",t.editFlag?Object(c.f)(t.solutionForm).then(function(e){2e4===e.data.code?t.$notify({title:"成功",message:"更新方案成功",type:"success",duration:2e3}):t.$notify({title:"失败",message:"更新方案失败",type:"fail",duration:2e3})}):Object(c.b)(t.solutionForm).then(function(e){2e4===e.data.code?(t.solutionForm.id=e.data.data.id,t.editFlag=!0,t.$notify({title:"成功",message:"发布方案成功",type:"success",duration:2e3})):t.$notify({title:"失败",message:"发布方案失败",type:"fail",duration:2e3})}),t.loading=!1})},draftForm:function(){var t=this;0!==this.solutionForm.solutionText.length&&0!==this.solutionForm.firstHeading.length?(this.loading=!0,this.solutionForm.isEnable="0",this.editFlag?Object(c.f)(this.solutionForm).then(function(e){2e4===e.data.code?t.$notify({title:"成功",message:"更新方案草稿成功",type:"success",duration:2e3}):t.$notify({title:"失败",message:"更新方案草稿失败",type:"fail",duration:2e3})}):Object(c.b)(this.solutionForm).then(function(e){t.solutionForm.id=e.data.data.id,t.editFlag=!0,2e4===e.data.code?t.$notify({title:"成功",message:"保存方案草稿成功",type:"success",duration:2e3}):t.$notify({title:"失败",message:"保存方案草稿失败",type:"fail",duration:2e3})}),this.loading=!1):this.$message({message:"请填写必要的标题和内容",type:"warning"})}}},f=(o("gItk"),o("KHd+")),p=Object(f.a)(m,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"createSolution-container"},[o("el-form",{ref:"solutionForm",staticClass:"form-container",attrs:{model:t.solutionForm,rules:t.rules}},[o("sticky",{attrs:{"class-name":"sub-navbar "+t.solutionForm.isEnable}},[o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:t.submitForm}},[t._v("发布\n      ")]),t._v(" "),o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"warning"},on:{click:t.draftForm}},[t._v("草稿")])],1),t._v(" "),o("div",{staticClass:"createSolution-main-container"},[o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"title"}},[o("MDinput",{attrs:{maxlength:100,name:"name",required:""},model:{value:t.solutionForm.firstHeading,callback:function(e){t.$set(t.solutionForm,"firstHeading",e)},expression:"solutionForm.firstHeading"}},[t._v("\n              标题\n            ")])],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:12,xs:12,sm:24,lg:12}},[o("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{"label-width":"80px",label:"二级标题:"}},[o("el-input",{staticClass:"article-textarea",attrs:{rows:1,type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.solutionForm.secondaryHeading,callback:function(e){t.$set(t.solutionForm,"secondaryHeading",e)},expression:"solutionForm.secondaryHeading"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:12,xs:12,sm:24,lg:12}},[o("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{"label-width":"80px",label:"三级标题:"}},[o("el-input",{staticClass:"article-textarea",attrs:{rows:1,type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.solutionForm.tertiaryHeading,callback:function(e){t.$set(t.solutionForm,"tertiaryHeading",e)},expression:"solutionForm.tertiaryHeading"}})],1)],1)],1),t._v(" "),o("div",{staticClass:"sulutionInfo-container"},[o("el-row",[o("el-col",{attrs:{span:12,xs:12,sm:24,lg:12}},[o("el-form-item",{staticClass:"solutionInfo-container-item",attrs:{"label-width":"80px",label:"类别:"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.solutionForm.solutionClass,callback:function(e){t.$set(t.solutionForm,"solutionClass",e)},expression:"solutionForm.solutionClass"}},t._l(t.solutionClassOptions,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),o("el-col",{attrs:{span:12,xs:12,sm:24,lg:12}},[o("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"80px",label:"创建时间:"}},[o("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.solutionForm.createdTime,callback:function(e){t.$set(t.solutionForm,"createdTime",e)},expression:"solutionForm.createdTime"}})],1)],1)],1)],1)],1)],1),t._v(" "),o("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{"label-width":"80px",label:"摘要:"}},[o("el-input",{staticClass:"article-textarea",attrs:{rows:1,type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.solutionForm.solutionSynopsis,callback:function(e){t.$set(t.solutionForm,"solutionSynopsis",e)},expression:"solutionForm.solutionSynopsis"}}),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.synopsisLength,expression:"synopsisLength"}],staticClass:"word-counter"},[t._v(t._s(t.synopsisLength)+"字")])],1),t._v(" "),o("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{"label-width":"80px",label:"图片:"}},[o("el-upload",{attrs:{"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-success":t.handleSuccess,headers:t.myHeaders,"file-list":t.fileList,action:t.uploadUrl(),"list-type":"picture-card"}},[o("i",{staticClass:"el-icon-plus"})]),t._v(" "),o("el-dialog",{attrs:{visible:t.picVisible},on:{"update:visible":function(e){t.picVisible=e}}},[o("img",{attrs:{src:t.solutionForm.solutionPic,width:"100%",alt:""}})])],1),t._v(" "),o("div",{staticClass:"editor-container"},[o("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.solutionForm.solutionText,callback:function(e){t.$set(t.solutionForm,"solutionText",e)},expression:"solutionForm.solutionText"}})],1)],1)],1)],1)},[],!1,null,"5745c89f",null);p.options.__file="solutionDetail.vue";e.default=p.exports},Fgxn:function(t,e,o){},Xp0f:function(t,e,o){},gItk:function(t,e,o){"use strict";var i=o("Fgxn");o.n(i).a},"k+JH":function(t,e,o){"use strict";var i=o("Xp0f");o.n(i).a},nxFG:function(t,e,o){"use strict";o.d(e,"d",function(){return s}),o.d(e,"e",function(){return n}),o.d(e,"b",function(){return a}),o.d(e,"f",function(){return l}),o.d(e,"c",function(){return r}),o.d(e,"a",function(){return u});var i=o("t3Un");function s(t){return Object(i.a)({url:"/official/website/solution/list",method:"post",data:t})}function n(t){return Object(i.a)({url:"/official/website/solution/"+t,method:"get"})}function a(t){return Object(i.a)({url:"/official/website/solution",method:"post",data:t})}function l(t){return Object(i.a)({url:"/official/website/solution",method:"put",data:t})}function r(t){return Object(i.a)({url:"/official/website/solution/"+t,method:"delete"})}function u(t){return Object(i.a)({url:"/official/website/solution/checkout/"+t,method:"post"})}},"tjY/":function(t,e,o){"use strict";o.r(e);var i={name:"EditSolution",components:{solutionDetail:o("B2T4").default}},s=(o("k+JH"),o("KHd+")),n=Object(s.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("solution-detail",{attrs:{"is-edit":!0}})},[],!1,null,"4436a95e",null);n.options.__file="edit.vue";e.default=n.exports}}]);